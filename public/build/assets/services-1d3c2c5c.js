var o=Object.defineProperty;var d=(t,e,r)=>e in t?o(t,e,{enumerable:!0,configurable:!0,writable:!0,value:r}):t[e]=r;var l=(t,e,r)=>(d(t,typeof e!="symbol"?e+"":e,r),r);import{a2 as a,a3 as f}from"./app-a4a1e86e.js";class u{constructor(){l(this,"apiUrl","/services")}create(e,r,s){return a.post(this.apiUrl,{services_title:e,is_checked:r,is_shown:s})}getList(){return a.get(this.apiUrl+"/")}edit(e,r,s,i){return a.put(this.apiUrl+"/"+e,{title:r,is_checked:s,is_shown:i})}delete(e){return a.delete(this.apiUrl+"/"+e)}}const c=new u,S=f("service",{state:()=>({orderedServices:[],selectedService:null,serviceSelected:!1,services:[],fetchError:null,loading:!1}),actions:{clear(){this.orderedServices=[],this.selectedService=null,this.loading=!1},setSelectedService(t){this.selectedService=t,t?this.serviceSelected=!0:this.serviceSelected=!1},fetch(){this.loading=!0,c.getList().then(t=>{this.services=t.data}).catch(t=>{this.fetchError=t}).finally(()=>{this.loading=!1})},async create(t,e,r){this.loading=!0;try{const s=await c.create(t,e,r);return s.data.service&&this.services.push(s.data.service),s.data}catch(s){return this.fetchError=s,s}finally{this.loading=!1}},async edit(t,e,r,s){console.log("eeew",t,e,r,s),this.loading=!0;try{const i=await c.edit(t,e,r,s),n=this.services.findIndex(h=>h.id===t);return this.services[n]=i.data,!0}catch(i){return this.fetchError=i,i}finally{this.loading=!1}},async delete(t){this.loading=!0;try{return await c.delete(t),this.services=this.services.filter(e=>e.id!==t),!0}catch(e){return this.fetchError=e,e}finally{this.loading=!1}}}});export{S as u};
