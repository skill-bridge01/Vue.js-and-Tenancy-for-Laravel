import{a5 as k,a6 as h,a7 as S,y as v,u as y,x as F,r as x,B,o as l,m as C,z as V,a as e,t as a,b as s,E as n,a0 as p,c,q as b,a1 as q,ah as E}from"./app-c03dcb6d.js";import{_ as M}from"./BaseIcon-398b9207.js";import{g as N}from"./mdi-4b5bd968.js";const j={class:"flex flex-wrap gap-14 pt-9"},I={class:"flex flex-col gap-6"},T={class:"text-right"},z={for:"old_password",class:"font-readex text-xs font-medium"},A={class:"text-right"},D={for:"new_password",class:"font-readex text-sm font-medium"},G={class:"text-right"},O={for:"confirm_password",class:"font-readex text-sm font-medium"},R={key:0},U={class:"text-red-500 text-sm"},H={key:1},J={class:"text-green-400 text-sm"},K={class:"flex flex-col gap-6"},L={class:"text-right"},Q={for:"email",class:"font-readex text-sm font-medium"},W={class:"flex flex-col border rounded-lg border-[#ECF1F4] pl-6 pr-4 py-2 bg-white mt-3"},X=["placeholder","value"],Y={class:"text-right"},Z={for:"phone",class:"font-readex text-sm font-medium"},ee={class:"flex flex-col border rounded-lg border-[#ECF1F4] pl-6 pr-4 py-2 bg-white mt-3"},se=["placeholder","value"],te={class:"w-full mt-16"},oe={type:"submit",class:"flex px-6 py-3 justify-center items-center bg-brandGreen w-fit rounded-lg"},ae=e("span",{class:"font-readex text-sm text-white"}," Save ",-1),le={__name:"SettingsPannel",setup($){const d=k().shape({old_password:h().min(8).required(),new_password:h().min(8).required(),confirm_password:h().required().oneOf([S("new_password")],"Passwords do not match")}),u=v(),{t}=y(),{user:_}=F(v()),r=x(null),i=x(null);B(()=>{u.fetchUser()});const P=(m,f)=>{console.log(f),r.value=null,console.log(m),E.updatePassword(m).then(o=>{console.log(o),o.error?r.value=o.error:o.success&&(i.value=o.message,f.resetForm(),setTimeout(()=>{i.value=null},3e3))}).catch(o=>{console.log(o)})};return(m,f)=>(l(),C(s(q),{onSubmit:P,"validation-schema":s(d)},{default:V(({setFieldValue:o,setValues:de})=>{var g,w;return[e("div",j,[e("div",I,[e("div",T,[e("label",z,a(s(t)("account.oldPassword")),1),n(p,{"input-type":"password",name:"old_password","icon-src":"/images/login/password_grey.svg",placeholder:s(t)("account.oldPassword"),class:"w-full font-readex text-base font-light mb-6"},null,8,["icon-src","placeholder"])]),e("div",A,[e("label",D,a(s(t)("account.newPassword")),1),n(p,{"input-type":"password",name:"new_password","icon-src":"/images/login/password_grey.svg",placeholder:s(t)("account.newPassword"),class:"w-full font-readex text-base font-light mb-6"},null,8,["icon-src","placeholder"])]),e("div",G,[e("label",O,a(s(t)("account.confirmPassword")),1),n(p,{"input-type":"password",name:"confirm_password","icon-src":"/images/login/password_grey.svg",placeholder:s(t)("account.confirmPassword"),class:"w-full font-readex text-base font-light mb-6"},null,8,["icon-src","placeholder"])]),r.value?(l(),c("div",R,[e("p",U,a(r.value),1)])):b("",!0),i.value?(l(),c("div",H,[e("p",J,a(i.value),1)])):b("",!0)]),e("div",K,[e("div",L,[e("label",Q,a(s(t)("account.email")),1),e("div",W,[e("input",{id:"email",type:"email",name:"email",placeholder:s(t)("account.email"),class:"text-right font-readex text-base border-none outline-none focus:outline-none",disabled:"",value:(g=s(_))==null?void 0:g.email},null,8,X)])]),e("div",Y,[e("label",Z,a(s(t)("account.mobile")),1),e("div",ee,[e("input",{id:"phone",type:"text",name:"phone",placeholder:s(t)("account.mobile"),class:"text-right font-readex text-base border-none outline-none focus:outline-none",disabled:"",value:(w=s(_))==null?void 0:w.phone},null,8,se)])])])]),e("div",te,[e("button",oe,[ae,n(M,{path:s(N),class:"ml-3 text-white"},null,8,["path"])])])]}),_:1},8,["validation-schema"]))}},ne={class:"flex flex-col items-end"},ce=e("div",{class:"flex justify-end"},null,-1),re={key:0,class:"flex flex-col items-end w-fit"},ie={key:1,class:"flex flex-col items-end w-fit"},fe={__name:"index",setup($){const{t:d}=y();d("account.settings");const u=x(0);return(t,_)=>(l(),c("div",ne,[ce,u.value===0?(l(),c("div",re,[n(le)])):(l(),c("div",ie))]))}};export{fe as default};
